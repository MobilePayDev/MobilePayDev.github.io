"use strict";(self.webpackChunkmobile_pay_merchant_payments_documentation=self.webpackChunkmobile_pay_merchant_payments_documentation||[]).push([[5727],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>m});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),l=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=l(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=l(n),u=a,m=d["".concat(s,".").concat(u)]||d[u]||y[u]||i;return n?o.createElement(m,r(r({ref:t},p),{},{components:n})):o.createElement(m,r({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=u;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[d]="string"==typeof e?e:a,r[1]=c;for(var l=2;l<i;l++)r[l]=n[l];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},41591:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>y,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var o=n(58168),a=(n(96540),n(15680));const i={sidebar_position:3},r="Detecting MobilePay",c={unversionedId:"pos/detecting-mobilepay",id:"pos/detecting-mobilepay",title:"Detecting MobilePay",description:"There are two ways in MobilePay PoS for a terminal/client to become aware that MobilePay has been chosen by the customer as the payment option: User activation and Notification service.",source:"@site/docs/pos/detecting-mobilepay.md",sourceDirName:"pos",slug:"/pos/detecting-mobilepay",permalink:"/docs/pos/detecting-mobilepay",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Authentication",permalink:"/docs/pos/authentication"},next:{title:"Payment overview",permalink:"/docs/pos/payment-flows/"}},s={},l=[{value:"User activation",id:"user-activation",level:2},{value:"Notification service",id:"notification-service",level:2}],p={toc:l},d="wrapper";function y(e){let{components:t,...i}=e;return(0,a.yg)(d,(0,o.A)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"detecting-mobilepay"},"Detecting MobilePay"),(0,a.yg)("p",null,"There are two ways in MobilePay PoS for a terminal/client to become aware that MobilePay has been chosen by the customer as the payment option: User activation and Notification service."),(0,a.yg)("h2",{id:"user-activation"},"User activation"),(0,a.yg)("p",null,"This is the default way of detecting MobilePay presence. In a supermarket, this can be a button on the ECR (Electronic Cash Register) that sends the payment request to MobilePay. For example, the cashier will ask the customer or infer from the customer's actions which payment option the customer wants to choose and then push the MobilePay button. Another example of user activation is when the customer can choose MobilePay themselves on a keypad placed on a vending machine. Some vending machines only allow MobilePay to be used and therefore any request for the vending machine product would be inferred as a payment request to MobilePay."),(0,a.yg)("p",null,(0,a.yg)("a",{target:"_blank",href:n(97872).A},(0,a.yg)("img",{src:n(18279).A,alt:"MobilePay button",width:"700"}))),(0,a.yg)("p",null,"A last example of a user activation is in the case of a QR code being displayed in a terminal. Once the QR code is displayed,\nthe terminal may start polling the endpoint ",(0,a.yg)("inlineCode",{parentName:"p"},"GET /v10/pointofsales/{posId}/checkin")," to determine if a customer has checked in. The terminal may only poll for a check-in while the QR code is displayed on the terminal to ensure the check-in endpoint is not overloaded with requests."),(0,a.yg)("p",null,(0,a.yg)("a",{target:"_blank",href:n(48493).A},(0,a.yg)("img",{src:n(10102).A,alt:"Polling",width:"800"}))),(0,a.yg)("h2",{id:"notification-service"},"Notification service"),(0,a.yg)("p",null,"Some interfaces do not include a possibility for user activation. In these cases an endpoint can be exposed by the MobilePay PoS integrator. This endpoint will be called with a check-in notification when a customer checks in. After receiving a notification the client can poll the ",(0,a.yg)("inlineCode",{parentName:"p"},"GET /v10/pointofsales/{posId}/checkin")," endpoint for that PoS. For more details see ",(0,a.yg)("a",{parentName:"p",href:"/docs/pos/notification-service"},"Notification Service"),"."),(0,a.yg)("p",null,(0,a.yg)("a",{target:"_blank",href:n(95057).A},(0,a.yg)("img",{src:n(55788).A,alt:"Beacon",width:"700"}))))}y.isMDXComponent=!0},95057:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/files/pos-BeaconIDRead-c0b64a8723904ca676de4eb399c6e515.png"},97872:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/files/pos-MobilepayButton-3e3b06bb739ecd4bf5482a3037f7c0ee.png"},48493:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/files/pos-polling-d1053e3202ad0a212eb06af8c7975610.png"},55788:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/pos-BeaconIDRead-c0b64a8723904ca676de4eb399c6e515.png"},18279:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/pos-MobilepayButton-3e3b06bb739ecd4bf5482a3037f7c0ee.png"},10102:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/pos-polling-d1053e3202ad0a212eb06af8c7975610.png"}}]);